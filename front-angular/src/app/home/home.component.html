<!-- Modern Home Page -->
<div class="home-container" 
     [class.mobile]="isMobile$ | async"
     [class.tablet]="isTablet$ | async"
     [class.desktop]="isDesktop$ | async">
  <!-- Hero Section -->
  <section class="hero-section" [@fadeInUp] >
      <div class="hero-content">
      <div class="hero-text" [@slideInLeft]>
          <h1 class="hero-title">
            Discover Amazing Events
            <span class="gradient-text">Near You</span>
          </h1>
          <p class="hero-description">
            Connect with people who share your interests. Create, discover, and attend incredible events that inspire and bring communities together.
          </p>
          <div class="hero-actions">
          <button class="btn btn-primary btn-lg" 
                  (click)="scrollToEvents()"
                  [@buttonPress]="buttonState"
                  (mousedown)="buttonState = 'pressed'"
                  (mouseup)="buttonState = 'normal'"
                  (mouseleave)="buttonState = 'normal'">
              <mat-icon>search</mat-icon>
              <span>Explore Events</span>
          </button>
        </div>
      </div>
      <div class="hero-image" [@slideInRight]>
        <div class="event-preview" 
             *ngIf="latestEvent && !loadingLatestEvent" 
             (click)="goToDetails()"
             [@imageHover]="heroImageHoverState"
             (mouseenter)="onHeroImageMouseEnter()"
             (mouseleave)="onHeroImageMouseLeave()">
              <div class="event-image">
            <img [src]="latestEvent.image_url" [alt]="latestEvent.title" />
              </div>
              <div class="event-info">
            <h3>{{ latestEvent.title }}</h3>
            <p>{{ latestEvent.description | slice:0:100 }}{{ latestEvent.description.length > 100 ? '...' : '' }}</p>
                <div class="event-meta">
                  <span class="event-date">
                    <mat-icon>event</mat-icon>
                {{ latestEvent.date | date:'MMM dd, yyyy' }}
                  </span>
                  <span class="event-location">
                    <mat-icon>location_on</mat-icon>
                {{ latestEvent.location }}
                  </span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="section-header" [@fadeInUp]>
        <h2 class="section-title">Why Choose EventHub?</h2>
        <p class="section-description">
          We make event planning and discovery simple, fun, and rewarding.
        </p>
      </div>
      
    <div class="features-grid" [@staggerFadeIn]="6">
      <div class="feature-card" 
           [@cardHover]="getCardHoverState(0)"
           (mouseenter)="onCardMouseEnter(0)"
           (mouseleave)="onCardMouseLeave()">
          <div class="feature-icon">
            <mat-icon>search</mat-icon>
          </div>
          <h3 class="feature-title">Discover Events</h3>
          <p class="feature-description">
            Find events that match your interests and location. Our smart search helps you discover the perfect events.
          </p>
        </div>

      <div class="feature-card" 
           [@cardHover]="getCardHoverState(1)"
           (mouseenter)="onCardMouseEnter(1)"
           (mouseleave)="onCardMouseLeave()">
          <div class="feature-icon">
            <mat-icon>add_circle</mat-icon>
          </div>
          <h3 class="feature-title">Create Events</h3>
          <p class="feature-description">
            Organize and promote your own events with our easy-to-use tools. Reach your target audience effectively.
          </p>
        </div>



      <div class="feature-card" 
           [@cardHover]="getCardHoverState(3)"
           (mouseenter)="onCardMouseEnter(3)"
           (mouseleave)="onCardMouseLeave()">
          <div class="feature-icon">
            <mat-icon>security</mat-icon>
          </div>
          <h3 class="feature-title">Secure & Reliable</h3>
          <p class="feature-description">
            Your data and transactions are protected with industry-leading security measures.
          </p>
        </div>



      <div class="feature-card" 
           [@cardHover]="getCardHoverState(5)"
           (mouseenter)="onCardMouseEnter(5)"
           (mouseleave)="onCardMouseLeave()">
          <div class="feature-icon">
            <mat-icon>analytics</mat-icon>
          </div>
          <h3 class="feature-title">Analytics & Insights</h3>
          <p class="feature-description">
            Track your event performance and get valuable insights to improve future events.
          </p>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats-section">
    <div class="stats-grid" [@staggerFadeIn]="4">
        <div class="stat-item">
          <div class="stat-number">10,000+</div>
          <div class="stat-label">Events Created</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">50,000+</div>
          <div class="stat-label">Happy Users</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">100+</div>
          <div class="stat-label">Cities Covered</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">99.9%</div>
          <div class="stat-label">Uptime</div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section" [@fadeInUp]>
      <div class="cta-content">
        <h2 class="cta-title">Ready to Get Started?</h2>
        <p class="cta-description">
          Join thousands of users who are already creating and discovering amazing events.
        </p>
        <div class="cta-actions">
          <a routerLink="/register" class="btn btn-primary btn-lg">
            <mat-icon>person_add</mat-icon>
            <span>Sign Up Free</span>
          </a>
          <a routerLink="/about" class="btn btn-ghost btn-lg">
            <mat-icon>info</mat-icon>
            <span>Learn More</span>
          </a>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <div class="section-header" [@fadeInUp]>
        <h2 class="section-title">What Our Users Say</h2>
        <p class="section-description">
          Hear from event organizers and attendees who love using EventHub.
        </p>
      </div>
      
    <div class="testimonials-grid" [@staggerFadeIn]="3">
      <div class="testimonial-card" 
           [@cardHover]="getCardHoverState(6)"
           (mouseenter)="onCardMouseEnter(6)"
           (mouseleave)="onCardMouseLeave()">
          <div class="testimonial-content">
            <p>"EventHub made organizing my first event so easy! The platform is intuitive and the support team is amazing."</p>
          </div>
          <div class="testimonial-author">
            <div class="author-avatar">
              <mat-icon>account_circle</mat-icon>
            </div>
            <div class="author-info">
              <div class="author-name">Sarah Johnson</div>
              <div class="author-title">Event Organizer</div>
            </div>
          </div>
        </div>

      <div class="testimonial-card" 
           [@cardHover]="getCardHoverState(7)"
           (mouseenter)="onCardMouseEnter(7)"
           (mouseleave)="onCardMouseLeave()">
          <div class="testimonial-content">
            <p>"I've discovered so many amazing events I never would have found otherwise. The community is incredible!"</p>
          </div>
          <div class="testimonial-author">
            <div class="author-avatar">
              <mat-icon>account_circle</mat-icon>
            </div>
            <div class="author-info">
              <div class="author-name">Mike Chen</div>
              <div class="author-title">Event Attendee</div>
            </div>
          </div>
        </div>

      <div class="testimonial-card" 
           [@cardHover]="getCardHoverState(8)"
           (mouseenter)="onCardMouseEnter(8)"
           (mouseleave)="onCardMouseLeave()">
          <div class="testimonial-content">
            <p>"The analytics and insights helped me improve my events significantly. Highly recommended for any organizer!"</p>
          </div>
          <div class="testimonial-author">
            <div class="author-avatar">
              <mat-icon>account_circle</mat-icon>
            </div>
            <div class="author-info">
              <div class="author-name">Emily Rodriguez</div>
              <div class="author-title">Professional Organizer</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Filters Section -->
  <section class="filters-section" [@fadeInUp]>
    <div class="filters-container">
      <div class="filters-header">
        <h2 class="filters-title">Filter Events</h2>
        <div class="filters-controls">
          <!-- Desktop Filters -->
          <ng-container *ngIf="!(isMobile$ | async)">
        <div class="filter-category">
          <app-category *ngFor="let c of categories"
            [category]="c"
            [selected]="selectedCategory()?.id === c.id"
            (categorySelect)="onCategorySelected($event)">
          </app-category>
        </div>
        <div class="filter-privacy">
          <app-is-public-or-not
            [selected]="publicOnly()"
            (publicSelect)="onPublicFilter($event)">
          </app-is-public-or-not>
        </div>
      </ng-container>
          
          <!-- Mobile Filters -->
          <ng-container *ngIf="isMobile$ | async">
            <button mat-raised-button color="primary" [matMenuTriggerFor]="filterMenu">
              <mat-icon>filter_list</mat-icon>
          Filters
        </button>

        <mat-menu #filterMenu="matMenu">
          <div class="filter-category-menu">
            <app-category *ngFor="let c of categories"
              [category]="c"
              [selected]="selectedCategory()?.id === c.id"
              (categorySelect)="onCategorySelected($event)">
            </app-category>
          </div>
          <mat-divider></mat-divider>
          <div class="filter-privacy-menu">
            <app-is-public-or-not
              [selected]="publicOnly()"
              (publicSelect)="onPublicFilter($event)">
            </app-is-public-or-not>
          </div>
            </mat-menu>
          </ng-container>
        </div>
      </div>
    </div>
  </section>

  <!-- Events Section -->
  <section class="events-section" id="events-section">
    <div class="events-container">
      <div class="events-header">
        <h2 class="events-title">Featured Events</h2>
        <span class="events-count" *ngIf="featuredEvents.length">
          {{ featuredEvents.length }} events found
        </span>
      </div>

      <!-- Initial Loading State -->
      <ng-container *ngIf="loading && featuredEvents.length === 0">
        <div class="loading-container">
          <mat-spinner color="primary" diameter="48"></mat-spinner>
    </div>
  </ng-container>

      <!-- Events Grid -->
      <ng-container *ngIf="!loading || featuredEvents.length > 0">
        <div *ngIf="featuredEvents.length; else noEvents" 
             class="event-grid" 
             [@staggerFadeIn]="featuredEvents.length">
      <app-event-card *ngFor="let event of featuredEvents" [event]="event">
      </app-event-card>
    </div>
  </ng-container>

      <!-- No Events State -->
  <ng-template #noEvents>
        <div class="empty-state">
          <mat-icon>event_busy</mat-icon>
          <h3>No Events Found</h3>
          <p>Try adjusting your filters or check back later for new events.</p>
        </div>
  </ng-template>

      <!-- Load More Button -->
      <div class="load-more-container" *ngIf="featuredEvents.length">
        <button class="btn btn-outline load-more-btn"
      (click)="loadMore()"
                [disabled]="loading || loadingMore || page >= lastPage">
          <mat-icon *ngIf="loadingMore">hourglass_empty</mat-icon>
          <span>{{ loadingMore ? 'Loading…' : (page < lastPage ? 'Load More Events' : 'All Events Loaded') }}</span>
    </button>
      </div>
  </div>
</section>
</div>